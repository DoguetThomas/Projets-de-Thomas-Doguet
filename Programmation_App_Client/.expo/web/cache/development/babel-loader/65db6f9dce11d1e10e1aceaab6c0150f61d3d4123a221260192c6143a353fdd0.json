{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { getTodoLists } from \"../components/todoList\";\nimport { TokenContext, UsernameContext } from \"../Context/Context\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function TodoListScreen() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    todoLists = _useState2[0],\n    setTodoLists = _useState2[1];\n  var _useContext = useContext(TokenContext),\n    _useContext2 = _slicedToArray(_useContext, 2),\n    token = _useContext2[0],\n    setToken = _useContext2[1];\n  var _useContext3 = useContext(UsernameContext),\n    _useContext4 = _slicedToArray(_useContext3, 2),\n    username = _useContext4[0],\n    setUsername = _useContext4[1];\n  useEffect(function () {\n    var loadTodoLists = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          var todos = yield getTodoLists(username, token);\n          setTodoLists(todos || []);\n        } catch (err) {\n          setError(err.message);\n        }\n      });\n      return function loadTodoLists() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    loadTodoLists();\n  }, [username, token]);\n  return _jsxs(View, {\n    children: [_jsx(Text, {\n      children: \"TodoList\"\n    }), _jsx(FlatList, {\n      data: todoLists,\n      keyExtractor: function keyExtractor(item) {\n        return item.id.toString();\n      },\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return _jsx(View, {\n          children: _jsx(Text, {\n            children: item.title\n          })\n        });\n      }\n    })]\n  });\n}","map":{"version":3,"names":["React","useEffect","useState","useContext","View","Text","FlatList","Button","TextInput","StyleSheet","getTodoLists","TokenContext","UsernameContext","jsx","_jsx","jsxs","_jsxs","TodoListScreen","_useState","_useState2","_slicedToArray","todoLists","setTodoLists","_useContext","_useContext2","token","setToken","_useContext3","_useContext4","username","setUsername","loadTodoLists","_ref","_asyncToGenerator","todos","err","setError","message","apply","arguments","children","data","keyExtractor","item","id","toString","renderItem","_ref2","title"],"sources":["/home/doguet221/Documents/l3/s1/programmationAppClient/tp4/Screen/todoListScreen.js"],"sourcesContent":["import React, { useEffect, useState, useContext} from 'react';\nimport { View, Text, FlatList, Button, TextInput, StyleSheet } from 'react-native';\nimport { getTodoLists } from '../components/todoList';\nimport { TokenContext, UsernameContext } from '../Context/Context'\n\nexport default function TodoListScreen() {\n  const [todoLists, setTodoLists] = useState([]);\n  const [token, setToken] = useContext(TokenContext);\n  const [username, setUsername] = useContext(UsernameContext);\n\n  useEffect(() => {\n    const loadTodoLists = async () => {\n      try {\n        const todos = await getTodoLists(username, token);\n        setTodoLists(todos || []);\n      } catch (err) {\n        setError(err.message);\n      }\n    };\n\n    loadTodoLists();\n  }, [username, token]);\n  \n  return (\n    <View >\n      <Text>TodoList</Text>\n      <FlatList\n        data={todoLists}\n        keyExtractor={(item) => item.id.toString()}\n        renderItem={({ item }) => (\n          <View>\n            <Text>{item.title}</Text>\n          </View>\n        )}\n      />\n    </View>\n  );\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,UAAU,QAAO,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,QAAA;AAAA,OAAAC,MAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,UAAA;AAE9D,SAASC,YAAY;AACrB,SAASC,YAAY,EAAEC,eAAe;AAA4B,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAElE,eAAe,SAASC,cAAcA,CAAA,EAAG;EACvC,IAAAC,SAAA,GAAkChB,QAAQ,CAAC,EAAE,CAAC;IAAAiB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAvCG,SAAS,GAAAF,UAAA;IAAEG,YAAY,GAAAH,UAAA;EAC9B,IAAAI,WAAA,GAA0BpB,UAAU,CAACQ,YAAY,CAAC;IAAAa,YAAA,GAAAJ,cAAA,CAAAG,WAAA;IAA3CE,KAAK,GAAAD,YAAA;IAAEE,QAAQ,GAAAF,YAAA;EACtB,IAAAG,YAAA,GAAgCxB,UAAU,CAACS,eAAe,CAAC;IAAAgB,YAAA,GAAAR,cAAA,CAAAO,YAAA;IAApDE,QAAQ,GAAAD,YAAA;IAAEE,WAAW,GAAAF,YAAA;EAE5B3B,SAAS,CAAC,YAAM;IACd,IAAM8B,aAAa;MAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;QAChC,IAAI;UACF,IAAMC,KAAK,SAASxB,YAAY,CAACmB,QAAQ,EAAEJ,KAAK,CAAC;UACjDH,YAAY,CAACY,KAAK,IAAI,EAAE,CAAC;QAC3B,CAAC,CAAC,OAAOC,GAAG,EAAE;UACZC,QAAQ,CAACD,GAAG,CAACE,OAAO,CAAC;QACvB;MACF,CAAC;MAAA,gBAPKN,aAAaA,CAAA;QAAA,OAAAC,IAAA,CAAAM,KAAA,OAAAC,SAAA;MAAA;IAAA,GAOlB;IAEDR,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAACF,QAAQ,EAAEJ,KAAK,CAAC,CAAC;EAErB,OACET,KAAA,CAACZ,IAAI;IAAAoC,QAAA,GACH1B,IAAA,CAACT,IAAI;MAAAmC,QAAA,EAAC;IAAQ,CAAM,CAAC,EACrB1B,IAAA,CAACR,QAAQ;MACPmC,IAAI,EAAEpB,SAAU;MAChBqB,YAAY,EAAE,SAAAA,aAACC,IAAI;QAAA,OAAKA,IAAI,CAACC,EAAE,CAACC,QAAQ,CAAC,CAAC;MAAA,CAAC;MAC3CC,UAAU,EAAE,SAAAA,WAAAC,KAAA;QAAA,IAAGJ,IAAI,GAAAI,KAAA,CAAJJ,IAAI;QAAA,OACjB7B,IAAA,CAACV,IAAI;UAAAoC,QAAA,EACH1B,IAAA,CAACT,IAAI;YAAAmC,QAAA,EAAEG,IAAI,CAACK;UAAK,CAAO;QAAC,CACrB,CAAC;MAAA;IACP,CACH,CAAC;EAAA,CACE,CAAC;AAEX"},"metadata":{},"sourceType":"module","externalDependencies":[]}