{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport todoData from \"../Helpers/todoData\";\nimport TodoItem from \"../Screen/TodoItemScreen\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function TodoList() {\n  var _useState = useState(todoData),\n    _useState2 = _slicedToArray(_useState, 2),\n    todos = _useState2[0],\n    setTodos = _useState2[1];\n  var _useState3 = useState(todos.filter(function (item) {\n      return item.done;\n    }).length),\n    _useState4 = _slicedToArray(_useState3, 2),\n    count = _useState4[0],\n    setCount = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    newTodoText = _useState6[0],\n    setNewTodoText = _useState6[1];\n  var _useState7 = useState('all'),\n    _useState8 = _slicedToArray(_useState7, 2),\n    filter = _useState8[0],\n    setFilter = _useState8[1];\n  var updateCount = function updateCount(offset) {\n    setCount(count + offset);\n  };\n  var updateItem = function updateItem(id) {\n    var newTodos = todos.map(function (item) {\n      return {\n        id: item.id,\n        content: item.content,\n        done: item.id == id ? !item.done : item.done\n      };\n    });\n    setTodos(newTodos);\n    setCount(newTodos.filter(function (item) {\n      return item.done;\n    }).length);\n  };\n  var deleteTodo = function deleteTodo(id) {\n    var newTodos = todos.filter(function (item) {\n      return item.id != id;\n    });\n    setTodos(newTodos);\n    setCount(newTodos.filter(function (item) {\n      return item.done;\n    }).length);\n  };\n  var addNewTodo = function addNewTodo() {\n    if (newTodoText == '') return;\n    setTodos([].concat(_toConsumableArray(todos), [{\n      id: todos.length ? Math.max.apply(Math, _toConsumableArray(todos.map(function (item) {\n        return item.id;\n      }))) + 1 : 1,\n      content: newTodoText,\n      done: false\n    }]));\n    setNewTodoText('');\n  };\n  var checkAll = function checkAll() {\n    var newTodos = todos.map(function (item) {\n      return {\n        id: item.id,\n        content: item.content,\n        done: true\n      };\n    });\n    setTodos(newTodos);\n    setCount(newTodos.filter(function (item) {\n      return item.done;\n    }).length);\n    console.log(newTodos);\n  };\n  var reversedcheckAll = function reversedcheckAll() {\n    var newTodos = todos.map(function (item) {\n      return {\n        id: item.id,\n        content: item.content,\n        done: false\n      };\n    });\n    setTodos(newTodos);\n    setCount(newTodos.filter(function (item) {\n      return item.done;\n    }).length);\n    console.log(newTodos);\n  };\n  var getFilteredTodos = function getFilteredTodos() {\n    if (filter === 'done') {\n      return todos.filter(function (item) {\n        return item.done;\n      });\n    } else if (filter === 'not_done') {\n      return todos.filter(function (item) {\n        return !item.done;\n      });\n    } else {\n      return todos;\n    }\n  };\n  return _jsxs(View, {\n    style: {\n      margin: 10\n    },\n    children: [_jsxs(Text, {\n      children: [getCompletedCount(), \" items r\\xE9alis\\xE9s\"]\n    }), _jsxs(View, {\n      style: styles.buttonGroup,\n      children: [_jsx(Button, {\n        title: \"Toutes\",\n        onPress: function onPress() {\n          return setFilter('all');\n        }\n      }), _jsx(Button, {\n        title: \"T\\xE2ches effectu\\xE9es\",\n        onPress: function onPress() {\n          return setFilter('done');\n        }\n      }), _jsx(Button, {\n        title: \"T\\xE2ches non effectu\\xE9es\",\n        onPress: function onPress() {\n          return setFilter('not_done');\n        }\n      })]\n    }), _jsxs(View, {\n      style: styles.textInput_group,\n      children: [_jsx(TextInput, {\n        style: styles.textinput_view,\n        onChangeText: setNewTodoText,\n        placeholder: \"Saisir ici un nouvel item\",\n        onSubmitEditing: addNewTodo,\n        value: newTodoText\n      }), _jsx(View, {\n        style: styles.buttoninput_view,\n        children: _jsx(Button, {\n          onPress: addNewTodo,\n          title: \"Nouveau\"\n        })\n      })]\n    }), _jsx(FlatList, {\n      style: {\n        paddingLeft: 10\n      },\n      data: getFilteredTodos(),\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return _jsx(TodoItem, {\n          item: item,\n          updateItem: updateItem,\n          deleteTodo: deleteTodo\n        });\n      }\n    }), _jsx(Button, {\n      onPress: checkAll,\n      title: \"Tout s\\xE9lectionner\"\n    }), _jsx(Button, {\n      onPress: reversedcheckAll,\n      title: \"Tout d\\xE9s\\xE9lectionner\"\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  textInput_group: {\n    flexDirection: 'row'\n  },\n  textinput_view: {\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  buttoninput_view: {\n    margin: 12,\n    paddingTop: 3\n  }\n});","map":{"version":3,"names":["React","useState","StyleSheet","View","TextInput","Button","Text","FlatList","Switch","todoData","TodoItem","jsxs","_jsxs","jsx","_jsx","TodoList","_useState","_useState2","_slicedToArray","todos","setTodos","_useState3","filter","item","done","length","_useState4","count","setCount","_useState5","_useState6","newTodoText","setNewTodoText","_useState7","_useState8","setFilter","updateCount","offset","updateItem","id","newTodos","map","content","deleteTodo","addNewTodo","concat","_toConsumableArray","Math","max","apply","checkAll","console","log","reversedcheckAll","getFilteredTodos","style","margin","children","getCompletedCount","styles","buttonGroup","title","onPress","textInput_group","textinput_view","onChangeText","placeholder","onSubmitEditing","value","buttoninput_view","paddingLeft","data","renderItem","_ref","create","flexDirection","borderWidth","padding","paddingTop"],"sources":["/home/doguet221/Documents/l3/s1/programmationAppClient/tp4/components/TodoList.js"],"sourcesContent":["import React, { useState } from 'react'\nimport {\n  StyleSheet,\n  View,\n  TextInput,\n  Button,\n  Text,\n  FlatList,\n  Switch\n} from 'react-native'\n\nimport todoData from '../Helpers/todoData'\nimport TodoItem from '../Screen/TodoItemScreen'\n\nexport default function TodoList () {\n  const [todos, setTodos] = useState(todoData)\n  const [count, setCount] = useState(todos.filter(item => item.done).length)\n  const [newTodoText, setNewTodoText] = useState('')\n  const [filter, setFilter] = useState('all');\n\n  const updateCount = offset => {\n    setCount(count + offset)\n  }\n\n  const updateItem = id => {\n    const newTodos = todos.map((item) => {return {id: item.id, content: item.content, done: (item.id == id) ? ! item.done : item.done}})\n    setTodos(newTodos)\n    setCount(newTodos.filter(item => item.done).length)\n  }\n\n  const deleteTodo = id => {\n    const newTodos = todos.filter(item => item.id != id)\n    setTodos(newTodos)\n    setCount(newTodos.filter(item => item.done).length)\n  }\n  \n  const addNewTodo = () => {\n    if (newTodoText == '') return\n    setTodos([\n      ...todos,\n      {\n        id: todos.length ? Math.max(...todos.map(item => item.id)) + 1 : 1,\n        content: newTodoText,\n        done: false\n      }\n    ])\n    setNewTodoText('')\n  }\n  \n  const checkAll = () => {\n    const newTodos = todos.map((item) => {return {id: item.id, content: item.content, done: true}})\n    setTodos(newTodos)\n    setCount(newTodos.filter(item => item.done).length);\n    console.log(newTodos)\n  }\n\n  const reversedcheckAll = () => {\n    const newTodos = todos.map((item) => {return {id: item.id, content: item.content, done: false}})\n    setTodos(newTodos)\n    setCount(newTodos.filter(item => item.done).length);\n    console.log(newTodos)\n  }\n\n  const getFilteredTodos = () => {\n    if (filter === 'done') {\n      return todos.filter(item => item.done);\n    } else if (filter === 'not_done') {\n      return todos.filter(item => !item.done);\n    } else {\n      return todos;\n    }\n  };\n\n  return (\n     <View style={{ margin: 10 }}>\n      <Text>{getCompletedCount()} items réalisés</Text>\n      <View style={styles.buttonGroup}>\n        <Button title=\"Toutes\" onPress={() => setFilter('all')} />\n        <Button title=\"Tâches effectuées\" onPress={() => setFilter('done')} />\n        <Button title=\"Tâches non effectuées\" onPress={() => setFilter('not_done')} />\n      </View>\n      <View style={styles.textInput_group}>\n        <TextInput\n          style={styles.textinput_view}\n          onChangeText={setNewTodoText}\n          placeholder=\"Saisir ici un nouvel item\"\n          onSubmitEditing={addNewTodo}\n          value={newTodoText}\n        />\n        <View style={styles.buttoninput_view}>\n          <Button onPress={addNewTodo} title=\"Nouveau\" />\n        </View>\n      </View>\n      <FlatList\n        style={{ paddingLeft: 10 }}\n        data={getFilteredTodos()}\n        renderItem={({ item }) => (\n          <TodoItem\n            item={item}\n            updateItem={updateItem}\n            deleteTodo={deleteTodo}\n          />\n        )}\n      />\n      <Button onPress={checkAll} title=\"Tout sélectionner\" />\n      <Button onPress={reversedcheckAll} title=\"Tout désélectionner\" />\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  textInput_group: {\n    flexDirection: 'row'\n  },\n  textinput_view: {\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  buttoninput_view: {\n    margin: 12,\n    paddingTop: 3\n  }\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}